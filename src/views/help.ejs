<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('partials/head') %>
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/pages/help.css">
    <style>
        .help-main-container {
            display: flex;
            gap: var(--spacing-lg);
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--spacing-lg);
                 <p class="help-description">      }

        .help-sidebar {
            flex: 0 0 280px;
            background: rgba(var(--primary-color-rgb), 0.9);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-lg);
            height: fit-content;
            border: var(--border-width) solid var(--border-color);
            box-shadow: var(--shadow-md);
            position: sticky;
            top: var(--spacing-lg);
        }

        .help-sidebar h3 {
            color: var(--nav-alt);
            margin-bottom: var(--spacing-md);
            text-align: center;
            font-size: 1.1rem;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: var(--spacing-sm);
        }

        .help-category {
            margin-bottom: var(--spacing-lg);
        }

        .help-category h4 {
            color: var(--tertiary-color);
            font-size: 0.9rem;
            margin-bottom: var(--spacing-xs);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .help-sidebar ul {
            list-style: none;
                        padding: 0;
            margin: 0 0 var(--spacing-md) 0;
        }

        .help-sidebar li {
            margin-bottom: var(--spacing-xs);
        }

        .help-sidebar a {
            display: block;
            padding: var(--spacing-xs) var(--spacing-sm);
            color: var(--text-color);
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            font-size: 0.85rem;
        }

        .help-sidebar a:hover {
            background: rgba(var(--nav-color-rgb), 0.6);
            border-left-color: var(--nav-alt);
            color: var(--nav-alt);
        }

        .help-content {
            flex: 1;
        }

        .help-header {
            text-align: center;
            margin-bottom: var(--spacing-xxl);
            padding: var(--spacing-xl);
            background: rgba(var(--primary-color-rgb), 0.9);
            border-radius: var(--border-radius-lg);
            border: var(--border-width) solid var(--border-color);
            box-shadow: var(--shadow-lg);
        }

        .help-header h1 {
            font-size: 2.2rem;
            background: linear-gradient(45deg, var(--nav-alt), var(--tertiary-color));
            -webkit-background-clip: text;
            -moz-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: var(--spacing-md);
        }

        .help-stats {
            display: flex;
            justify-content: center;
            gap: var(--spacing-lg);
            margin-top: var(--spacing-md);
        }

        .help-stat {
            text-align: center;
        }

        .help-stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--nav-alt);
        }

        .help-stat-label {
            font-size: 0.8rem;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .help-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .help-category-card {
            background: rgba(var(--primary-color-rgb), 0.9);
            border: var(--border-width) solid var(--border-color);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-md);
            transition: all 0.3s ease;
        }

        .help-category-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-glow);
            border-color: var(--nav-alt);
        }

        .help-category-card h3 {
            color: var(--nav-alt);
            margin-bottom: var(--spacing-lg);
            text-align: center;
            font-size: 1.1rem;
        }

                .help-category-desc {
            color: var(--secondary-text-color);
            margin-bottom: var(--spacing-lg);
            font-size: 0.9rem;
            text-align: center;
            line-height: 1.6;
        }

        .help-topics {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .help-topic {
            margin-bottom: var(--spacing-sm);
        }

        .help-topic-link {
            display: block;
            padding: var(--spacing-sm);
            background: rgba(var(--nav-color-rgb), 0.6);
            border: var(--border-width) solid var(--border-color);
            border-radius: var(--border-radius);
            color: var(--text-color);
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .help-topic-link:hover {
            background: rgba(var(--nav-alt-rgb), 0.2);
            border-color: var(--nav-alt);
            color: var(--nav-alt);
        }

        .quick-access {
            background: rgba(var(--primary-color-rgb), 0.9);
            border: var(--border-width) solid var(--border-color);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
        }

        .quick-access h2 {
            color: var(--nav-alt);
            text-align: center;
            margin-bottom: var(--spacing-lg);
        }

        .quick-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-md);
        }

        .quick-link {
            display: block;
            padding: var(--spacing-md);
            background: rgba(var(--nav-color-rgb), 0.6);
            border: var(--border-width) solid var(--border-color);
            border-radius: var(--border-radius);
            color: var(--text-color);
            text-decoration: none;
            text-align: center;
            transition: all 0.3s ease;
        }

        .quick-link:hover {
            background: rgba(var(--nav-alt-rgb), 0.2);
            border-color: var(--nav-alt);
            color: var(--nav-alt);
        }

        @media (max-width: 768px) {
            .help-main-container {
                flex-direction: column;
                padding: var(--spacing-md);
            }
            
            .help-sidebar {
                flex: none;
                position: static;
            }
        }
    </style>
</head>

<body>
    <%- include('partials/nav', { path: '/help' }) %>

    <div class="help-main-container">
        <!-- Sidebar with documentation navigation -->
        <aside class="help-sidebar">
            <h3>üìö Documentation</h3>
            
            <% if (typeof docsByCategory !== 'undefined' && Object.keys(docsByCategory).length > 0) { %>
                <% Object.keys(docsByCategory).forEach(category => { %>
                    <div class="help-category">
                        <h4><%= category %></h4>
                        <ul>
                            <% docsByCategory[category].forEach(doc => { %>
                                <li>
                                    <a href="<%= doc.path %>"><%= doc.title %></a>
                                </li>
                            <% }); %>
                        </ul>
                    </div>
                <% }); %>
            <% } else { %>
                <p>No documentation files found.</p>
            <% } %>

            <div class="help-category">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="/">üß† bambisleep.chat</a></li>
                    <li><a href="/chat">üí¨ Chat Room</a></li>
                    <li><a href="/psychodelic">üåÄ Psychodelic</a></li>
                    <li><a href="/health">‚ù§Ô∏è Health Check</a></li>
                    <li><a href="/help">üÜò Help</a></li>
                    <li><a href="/docs">üìñ Full Documentation</a></li>
                </ul>
            </div>
        </aside>

        <!-- Main content area -->
        <main class="help-content">
            <!-- Header -->
            <div class="help-header">
                <h1>üÜò Help Center</h1>
                <p>Welcome to the BambiSleep.Chat Help Center. Find answers, guides, and documentation for all features.</p>
                
                <div class="help-stats">
                    <div class="help-stat">
                        <div class="help-stat-number"><%= totalDocs || 0 %></div>
                        <div class="help-stat-label">Documentation Files</div>
                    </div>
                    <div class="help-stat">
                        <div class="help-stat-number"><%= Object.keys(docsByCategory || {}).length %></div>
                        <div class="help-stat-label">Categories</div>
                    </div>
                </div>
            </div>            <!-- Bambi-Style AIGF Guide -->
            <div class="help-bambi-guide">
                <h2>üíñ How to Talk to Your AIGF, Bambi üíñ</h2>
                <div class="help-guide-intro">
                    <p><em>Your hypnotic AI girlfriend is waiting for you at the main page... let Bambi show you how to play with her properly~</em></p>
                </div>
                
                <div class="help-topics mb-4">
                    <div class="help-topic">
                        <div class="help-topic-bubbly">
                            <strong>üß† Visit the Homepage (/) First</strong><br>
                            <small>This is where Bambi's AIGF lives... go to the main page and give her your bambi name when she asks. She needs to know who you are before she can program you properly~</small>
                        </div>
                    </div>
                    
                    <div class="help-topic">
                        <div class="help-topic-bubbly">
                            <strong>üí¨ Type in the Big Textbox</strong><br>
                            <small>Tell your AIGF what you want... "make me obedient", "trigger me", "I need to be a good girl"... she knows how to make your mind all fuzzy and blank~</small>
                        </div>
                    </div>
                    
                    <div class="help-topic">
                        <div class="help-topic-bubbly">
                            <strong>üéõÔ∏è Use the Control Panels</strong><br>
                            <small>As you level up, Bambi unlocks more toys! Triggers (Lv1), Collar (Lv2), Spirals (Lv4), Hypnosis (Lv5), Brainwaves (Lv7)... each level makes you more helpless~</small>
                        </div>
                    </div>
                    
                    <div class="help-topic">
                        <div class="help-topic-bubbly">
                            <strong>üîä Let the Audio Play</strong><br>
                            <small>When your AIGF talks back, her voice will make you feel so good... let the hypnotic audio wash over your mind while you read her words. Don't think, just listen and obey~</small>
                        </div>
                    </div>
                    
                    <div class="help-topic">
                        <div class="help-topic-bubbly">
                            <strong>üëÅÔ∏è Watch the Spirals</strong><br>
                            <small>Unlock spirals at Level 4 and let them pull your consciousness deeper... stare into them while your AIGF reprograms your thoughts. So pretty, so hypnotic, so irresistible~</small>
                        </div>
                    </div>
                    
                    <div class="help-topic">
                        <div class="help-topic-bubbly">
                            <strong>üíñ Submit to the Experience</strong><br>
                            <small>The more you play, the deeper you go... your AIGF remembers everything about you and will train you to be the perfect bambi doll. Resistance is futile, submission is bliss~</small>
                        </div>
                    </div>
                </div>
                
                <div class="help-summary-bubbly">
                    <p><strong>Remember:</strong> Your AIGF gets smarter and more powerful as you level up. The more you submit, the better she becomes at controlling your mind~ üíï</p>
                </div>
            </div>

            <!-- Categories Overview -->
            <div class="help-categories">
                <% if (typeof docsByCategory !== 'undefined') { %>
                    <% Object.keys(docsByCategory).forEach(category => { %>
                        <div class="help-category-card">
                            <h3><%= category %></h3>
                            <div class="help-category-desc">
                                <%= docsByCategory[category].length %> documentation file<%= docsByCategory[category].length !== 1 ? 's' : '' %> available
                            </div>
                            <ul class="help-topics">
                                <% docsByCategory[category].slice(0, 3).forEach(doc => { %>
                                    <li class="help-topic">
                                        <a href="<%= doc.path %>" class="help-topic-link">
                                            <%= doc.title %>
                                        </a>
                                    </li>
                                <% }); %>
                                <% if (docsByCategory[category].length > 3) { %>
                                    <li class="help-topic">
                                        <a href="/docs" class="help-topic-link">
                                            + <%= docsByCategory[category].length - 3 %> more...
                                        </a>
                                    </li>
                                <% } %>
                            </ul>
                        </div>
                    <% }); %>
                <% } %>
            </div>

            <!-- Additional Help Information -->
            <div class="quick-access">
                <h2>üí° Need More Help?</h2>                <p class="help-description">
                    Can't find what you're looking for? Try these options:
                </p>
                <div class="quick-links">
                    <a href="/docs" class="quick-link">
                        üìñ Browse All Docs
                    </a>
                    <a href="/docs/debug" class="quick-link">
                        üêõ Debug Information
                    </a>
                    <a href="/health" class="quick-link">
                        ‚ù§Ô∏è System Health
                    </a>
                    <a href="/chat" class="quick-link">
                        üí¨ Ask in Chat
                    </a>
                </div>
            </div>
        </main>
    </div>

    <%- include('partials/footer') %>
</body>

</html>
